<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>w01</title>
  </head>
  <body class="typora-export os-windows">
    <div class="typora-export-content">
      <div id="write" class="">
        <h1 id="android-einführung"><span>Android Einführung</span></h1>
        <p>
          <strong><span>Motivation</span></strong
          ><span
            >: Marktanteil Android weltweit ~70%, schweizweit 44%. Single- vs
            Multiplatform (Codebase), Native/Hybrid App/Web App. Hybride und Web
            Apps erreichen nativen Look&amp;Feel über visuelles Styling. Hybride
            Apps greifen über native Libraries auf Device Featuers zu. Beispiele
            zu CP Native: Flutter, Xamarin / CP Hybrid: Cordova, Ionic. Vorteile
            Android SDK: Voller Funktionsumfang, Keine Tools/Einschränkungen von
            Drittanbietern, Konzepte und Tools sind Basis vieler Frameworks.
          </span>
        </p>
        <p><img src="res\apps-ansaetze.png" referrerpolicy="no-referrer" /></p>
        <h2 id="grundlagen-begriffe"><span>Grundlagen, Begriffe</span></h2>
        <p>
          <strong><span>Android</span></strong
          ><span
            >: Seit 2003, Google seit 2005. V1.0 in 2008. Linux-basiert.
            Entwickelt von Open Handset Alliance, unter Google-Leitung (Android
            Open Source Project). Lose miteinander gekoppelten Komponenten
            (Activities, Content Providers, Services und Broadcast Receiver). </span
          ><strong><span>Google</span></strong
          ><span>
            ist Gründer der OHA, Mitentwickler von Android und Anbieter
            wichtiger Services und Apps.</span
          >
        </p>
        <p><img src="res\android-os.png" referrerpolicy="no-referrer" /></p>
        <p>
          <strong><span>Fragmentierung</span></strong
          ><span>
            beschreibt die verschiedenen aktuell verbreiteten Android-Versionen.
            Schuld daran sind Hersteller, die alte Geräte nicht mehr mit neuen
            Updates versorgen. </span
          ><strong><span>Google-Dienste</span></strong
          ><span>
            sind nicht zwingend, beispiel Huawei verwendet AOSP. Bieten oft
            komfortablere Alternativen zu Standard-Libraries. Wichtig: Google
            Play Store. </span
          ><strong><span>Rückwärtskompatibilität</span></strong
          ><span> </span><code>minSdkVersion</code
          ><span>: Ältere Geräte können meine App nicht nutzen. </span
          ><code>maxSdkVersion</code><span>: nutzlos? </span
          ><code>targetSdkVersion</code
          ><span
            >: gibt an, auf welche Version die App getestet ist und sicher
            stabil läuft. </span
          ><code>compileSdkVersion</code
          ><span
            >: wird so kompiliert, beinhaltet neue Funktionen, aber diese werden
            nicht verwendet (?)</span
          >
        </p>
        <p>
          <span
            >Wird Code eines API Level verwendet, der höher ist als die
            minSdkVersion, muss das verwendete Device abgefragt und ein Fallback
            definiert werden. Um das zu vermeiden gibt es </span
          ><strong><span>Android Jetpack / AndroidX</span></strong
          ><span
            >. Erweitert die Android SDK, wird unabhängig von Android
            entwickelt. Eigene Versionierung. Verwendete Klassen müssen nur
            erben von AppCompatActivity statt Activity, AppCompatButton statt
            Button, etc etc.</span
          >
        </p>
        <h2 id="tooling"><span>Tooling</span></h2>
        <p>
          <span
            >Android Studio wird von JetBrains zur Verfügung gestellt.
            Beinhaltet Android SDK und GUI-Wrapper für viele SDK Tools.
          </span>
        </p>
        <ol start="">
          <li>
            <span
              >Setzen der JAVA_HOME Environment Variable auf korrektes
              Verzeichnis: </span
            ><code>/usr/lib/jvm/jdk-17/bin/</code
            ><span> (Huawei Ubuntu in </span><code>~/.zshrc</code
            ><span> - check mit </span><code>echo $JAVA_HOME</code
            ><span>).</span>
          </li>
          <li>
            <span
              >Setting für verwendete Java SDK in Android Studio: Optionen
              -&gt;Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle..
              Einstellung Gradle JDK auf &quot;Android Studio default JDK
              Version 11.0.13&quot;.</span
            >
          </li>
        </ol>
        <h3 id="android-sdk"><span>Android SDK</span></h3>
        <ul>
          <li>
            <span>SDK-Manager: </span
            ><code>/usr/bin/android/cmdline-tools/latest/bin/sdkmanager</code>
          </li>
          <li>
            <span>Plattform Tools inkl. </span><code>adb</code
            ><span> (Debug Bridge?)</span>
          </li>
          <li><span>Platform SDKs </span><code>platforms</code></li>
          <li>
            <span>Emulator: </span
            ><code>/usr/bin/android/emulator/emulator</code>
          </li>
          <li><span>Emulator Images: </span><code>system-images</code></li>
          <li>
            <span>Intel HAXM (Virtualisierung/Emulator Unterstützung)</span>
          </li>
        </ul>
        <h3 id="programmiersprache"><span>Programmiersprache</span></h3>
        <p>
          <span
            >Grundlegend Java, seit 2019 durch Kotlin abgelöst als von Google
            empfohlene Sprache zur Entwicklung. Kotlin ist interoperabel mit
            Java-Code.</span
          >
        </p>
        <h1 id="android-grundkonzepte"><span>Android Grundkonzepte</span></h1>
        <p>
          <span
            >Apps bestehen aus lose gekoppelten, wiederverwendbaren Komponenten
            wie </span
          ><em
            ><span
              >Activities, Content Providers, Services und Broadcast Receivers,
              etc.</span
            ></em
          ><span> </span><strong><span>Lebenszyklus</span></strong
          ><span>: vom OS verwaltet, kann App jederzeit terminieren. </span
          ><strong><span>Kommunikation</span></strong
          ><span> zwischen Komponenten/Apps evenfalls nur via OS. </span>
        </p>
        <p>
          <img
            src="res/android-app-struktur.png"
            referrerpolicy="no-referrer"
          />
        </p>
        <h2 id="activity"><span>Activity</span></h2>
        <p>
          <em><span>= eine Aufgabe</span></em
          ><span
            >. Besitzt eine graphische Oberfläche und verarbeitet
            Benutzereingaben. Main Activity wird beim App-Start ausgeführt. Muss </span
          ><strong><span>im Manifest registriert</span></strong
          ><span> werden. Bei Activity Start wird </span
          ><strong><span>XML verknüpft</span></strong
          ><span>: </span
          ><code>onCreate () { setContentView( R.layout.activity_main ); }</code
          ><span>. Ereignisse im XML File werden via </span
          ><strong><span>Listener</span></strong
          ><span> verarbeitet. </span><strong><span>Zustände</span></strong
          ><span>
            und Callbacks bei Zustands-Wechseln. Methoden werden bei Bedarf
            überschrieben. </span
          ><strong><span>Zustände</span></strong
          ><span
            >: Created &gt;&gt; Started &gt;&gt; Paused &gt;&gt; Resumed
            &gt;&gt; Stopped &gt;&gt; Destroyed. </span
          ><strong><span>Callbacks</span></strong
          ><span
            >: onCreate, onStart, onRestart, onResume, onPause, onStop,
            onDestroy.</span
          >
        </p>
        <p>
          <span>Typisch: </span><strong><span>Datensicherung</span></strong
          ><span> bei </span><code>onPause()</code><span> oder </span
          ><code>onStop()</code><span>, </span
          ><strong><span>Dienste</span></strong
          ><span> ein-/ausschalten bei </span><code>onResume/onPause</code
          ><span>
            (oder: Lifecycle-aware components), Zustand des GUI erhalten bei </span
          ><code>onSaveInstanceState/onRestoreInstanceState</code
          ><span> (oder: ViewModel).</span>
        </p>
        <h2 id="event-handling"><span>Event Handling</span></h2>
        <p>
          <span
            >Basic: Listener reagieren auf Ereignisse im GUI, wenn registriert.
            Objektreferenzen abholen via findViewById(int). Je nach Event-Typ
            und View Item unterschiedliche Interfaces, die überschrieben werden
            können.</span
          >
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="java"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Button</span> <span class="cm-variable">button</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">findViewById</span>(<span class="cm-variable">R</span>.<span class="cm-variable">id</span>.<span class="cm-variable">button_example</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">button</span>.<span class="cm-variable">setOnClickListener</span>(<span class="cm-keyword">new</span> <span class="cm-variable">View</span>.<span class="cm-variable">OnClickListener</span>() { <span class="cm-meta">@Override</span> <span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">onClick</span>(<span class="cm-variable">View</span> <span class="cm-variable">view</span>) {}});</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 52px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre>
        <h2 id="resources"><span>Resources</span></h2>
        <p>
          <span>Werden im Java Code über die </span
          ><strong><span>R-Klasse</span></strong
          ><span>
            angesprochen, die wird beim Build erzeugt und ist mit Namespaces
            strukturiert. Resource ID als </span
          ><code>int</code><span>. Enthält Layouts, Bilder, Videos, ... </span
          ><strong><span>Value Resources</span></strong
          ><span>
            werden in einzelnen Files nach Typen gruppiert: Farbwerte,
            Dimensionen, Texte, Styles. </span
          ><strong><span>Qualifiers</span></strong
          ><span>
            im Dateinamen können verwendet werden, um spezifisch auf Endgerät
            verschiedene Informationen zu laden. Unterscheidung nach Sprachen,
            Auflösungen, Gerätetypen, API-Versionen etc..</span
          >
        </p>
        <h2 id="dimensionen"><span>Dimensionen</span></h2>
        <p>
          <strong><span>dp</span></strong
          ><span>: density-independent pixel (für fast alles), </span
          ><strong><span>sp</span></strong
          ><span>: scale-independent pixel für schriften</span>
          <strong><span>px/pt</span></strong
          ><span>: pixel/punkte (nie), </span><strong><span>in/mm</span></strong
          ><span>: inch / millimeter (auch nie..)</span>
        </p>
        <h2 id="manifest"><span>Manifest</span></h2>
        <p>
          <strong><span>Inhalt:</span></strong
          ><span>
            alle Informationen die Android braucht, um die App installieren und
            darstellen zu können. d.h.
          </span>
          <span>App-ID/Name (</span
          ><code>package=&quot;dev.kuendig.choirmate&quot;</code
          ><span>: eindeutige Id, definiert Namespace)</span>
          <span>Version </span><em><span>(aus build.gradle ergänzt)</span></em
          ><span> (</span><em><span>versionName</span></em
          ><span>: lesbar / </span><em><span>versionCode</span></em
          ><span>: positiver Int) und Logo, min- und targetsdkVersion </span
          ><em><span>(build.gradle)</span></em
          ><span
            >, enthaltene Komponenten, Hard- und Softwareanforderungen,
            benötigte Berechtigungen.
          </span>
        </p>
        <h2 id="intents"><span>Intents</span></h2>
        <p>
          <span
            >Dienen zur Kommunikation zwischen Komponenten, wechseln zwischen
            Activities. </span
          ><strong><span>Expliziter</span></strong
          ><span>
            Intent: Zeige einen spezifischen Screen, normal eigene App. </span
          ><strong><span>Impliziter</span></strong
          ><span>
            Intent: Zeige eine passende Komponente für die aktuelle Aktion,
            normal fremde App. Registrieren auf implizite Intents im Manifest.
            Bei Verwendung immer erst prüfen, ob eine passende App vorhanden ist
            mit </span
          ><code
            >bool hasReceiver = intent.resolveActivity(getPackageManager()) !=
            null;</code
          ><span> .</span><br /><span>Benötigt </span
          ><code
            >&lt;uses-permission
            android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;
            /&gt;</code
          ><span> im Manifest.</span>
        </p>
        <p>
          <span>Ziel des Intents definieren mit </span
          ><code>intent.setData(&quot;Uri:Datei/webseite/telnr/...&quot;)</code
          ><span>, </span
          ><code
            >startActivity(Intent)`` Wenn der Intent ein Resultat zurückliefert:
            ``startActivityForResult(Intent)</code
          ><span>.</span>
          <span
            >Übergeben von Daten via Extras (primitive Types, String und
            serialisierbare Objekte): </span
          ><code>intent.putExtra(&quot;solution&quot;, 42);</code
          ><span> Kommunikation mit anderen Komponenten möglich (W06).</span>
        </p>
        <h2 id="tasks--back-stacks-prozesse-threads">
          <span>Tasks / Back Stacks, Prozesse, Threads</span>
        </h2>
        <p>
          <span
            >Alle ausgeführten Activites werden in einem Back Stack bzw. Task
            verwaltet (Overview Screen zeigt die verschiedenen offenen Tasks).
            Activities innerhalb Task können mehrfach vorhanden sein oder auch
            zu verschiedenen Apps gehören. Acitivities können auch in neuen
            Tasks gestartet werden. Jede App / APK wird mit einem eigenen
            Linux-User installiert (Sandbox Prinzip). APK hat genau 1 eigenen </span
          ><strong><span>Prozess</span></strong
          ><span>, darin mind. den Main-</span
          ><strong><span>Thread</span></strong
          ><span>
            und evtl. weitere Threads. Blockieren des Main-Trheads führt zum
            Application Not Responding (</span
          ><strong><span>ANR</span></strong
          ><span
            >-) Screen. GUI-Aktualisierung nur aus Main-Thread möglich,
            langlaufende Operationen immer in anderen Thread (Runnable,
            (Coroutine?)) auslagern.</span
          >
        </p>
        <p>
          <span>Optionen zur GUI-Aktualisierung: </span
          ><code>Activity.runOnUiThread(Runnable)</code><span>, </span
          ><code>View.post(runnable)</code><span>, </span><code>Handler</code
          ><span> und </span><code>Looper</code>
        </p>
        <h2 id="rückwärtskompatibilität">
          <span>Rückwärtskompatibilität</span>
        </h2>
        <p>
          <span
            >API Level identifiziert die Android API Version. Höhere Levels
            enthalten immer alle tieferen, aber ggf. als deprecated markiert. </span
          ><strong><span>Trade Off</span></strong
          ><span
            >: niedrig um alle Geräte zu erreichen, hoch um die neuen Funktionen
            nutzen zu können. Werte in Manifest bzw. Gradle:</span
          >
        </p>
        <p>
          <code>minSdkVersion</code
          ><span>: ältere Geräte können meine App nicht nutzen. </span
          ><code>maxSdkVersion</code
          ><span
            >: Wird von Android ignoriert, von Google Play Store als Filter
            verwendet. Empfehlung: ignorieren. </span
          ><code>targetSdkVersion</code
          ><span
            >: gibt an, auf welche Version die App getestet ist und sicher
            stabil läuft. </span
          ><code>compileSdkVersion</code
          ><span
            >: gibt an, mit welcher API die App kompiliert wird/wurde.</span
          >
          <span>Ziel: </span
          ><code>minSdk &lt;= targetSdk &lt;= compileSdk</code>
        </p>
        <p>
          <span
            >Wird Code eines API Level verwendet, der höher ist als die
            minSdkVersion, muss auf dem Gerät ein </span
          ><strong><span>Versionscheck</span></strong
          ><span>
            gemacht und ein Fallback definiert werden. Um das zu vermeiden, gibt
            es </span
          ><strong><span>Android Jetpack / AndroidX</span></strong
          ><span
            >. Erweitert die Android SDK, wird unabhängig von Android
            entwickelt. Eigene Versionierung. Verwendete Klassen müssen nur
            erben von Komponenten der AppCompat Jetpack-Library. </span
          ><code>AppCompatActivity</code><span> statt </span
          ><code>Activity</code><span>, </span><code>AppCompatButton</code
          ><span> statt </span><code>Button</code
          ><span
            >, etc etc. Hiess früher Android Support Libraries, Namespace ist </span
          ><code>androidx</code
          ><span
            >. Integration durch Android Studio automatisch in neuen
            Projekten.</span
          >
        </p>
        <h1 id="android-gui-programmierung">
          <span>Android GUI Programmierung</span>
        </h1>
        <p>
          <span
            >Zwei Arten zur Darstellung des GUI: Beschreibung im XML vs.
            Quellcode (Java oder Kotlin)</span
          >
        </p>
        <h2 id="views-und-view-groups-auch-layouts-containers">
          <span>Views und View Groups (auch Layouts, Containers)</span>
        </h2>
        <p>
          <span
            >Stellen einen hierarchischen Baum dar, nach Composite Design
            Pattern. </span
          ><strong><span>View</span></strong
          ><span>
            ist Basisklasse aller GUI Elemente. Aufgaben: Darstellung und
            Event-Verarbeitung. </span
          ><strong><span>ViewGroup</span></strong
          ><span>
            dient der Anordnung von Kindern nach einem Muster. Ist
            strukturierend aber selber unsichtbar. Verschachtelung ist beliebig
            möglich, aber immer eine Performancefrage.</span
          >
          <strong><span>Einfache Layouts</span></strong
          ><span> sind LinearLayout, RelativeLayout, </span
          ><em><span>ConstraintLayout</span></em
          ><span>, </span><strong><span>AdapterLayouts</span></strong
          ><span> sind ListView, GridView, </span
          ><em><span>RecyclerView</span></em
          ><span> (Google empfiehlt).</span>
          <span>Höhe und Breite müssen zwingend definiert sein. </span
          ><code>layout_width</code><span> und </span><code>layout_height</code
          ><span> (immer nur &quot;ein Wunsch&quot;) mit entweder </span
          ><code>wrap_content</code><span> oder </span><code>match_parent</code
          ><span>
            (kann über einen Screen hinausgehen). Jede Eigenschaft mit </span
          ><strong><span>Präfix &quot;_layout&quot;</span></strong
          ><span> dient als Wunsch an das Elternelement (</span
          ><code>layout_width, layout_height, layout_margin</code
          ><span>). </span><code>padding</code
          ><span>
            wird auf Element selber gesetzt. Verschiedene Abmessungen pro
            Element: </span
          ><code>getMeasuredWidth/Height(),</code
          ><span> für &quot;Wunsch&quot;, </span><code>getWidth/Height()</code
          ><span> für reale Grösse.</span>
        </p>
        <p>
          <img
            src="C:/git/hsr-documents/HS2022/MGE/res/layout-boxmodel.png"
            referrerpolicy="no-referrer"
          />
        </p>
        <p>
          <strong><span>LinearLayout:</span></strong
          ><span> </span
          ><code>android:orientation=&quot;vertical|horizontal&quot;</code
          ><span> , </span><code>android:layout_weight=&quot;1&quot;</code
          ><span> zur Aufteilung vom restlich verbleibenden Platz. </span
          ><strong><span>FrameLayout</span></strong
          ><span>
            wird für Overlay-Designs verwendet. XML-Reihenfolge oder </span
          ><code>android:translationZ</code
          ><span> bestimmt die Höhe auf Z-Achse. </span
          ><strong><span>RelativeLayout</span></strong
          ><span>
            ordnet Kinder relativ zueinander an. Viele Parameter wie </span
          ><code
            >android:layout_alignParentTop=&quot;true&quot;,
            below=&quot;@id/x&quot;, toStartOf=&quot;@id/x&quot;,
            alignStart=&quot;@id/y&quot;</code
          ><span> (immer mit Layout-Prefix). </span
          ><strong><span>ConstraintLayout</span></strong
          ><span>
            (Jetpack) wurde speziell für komplexe Layouts mit flacher Hierarchie
            entworfen. Constraints definieren &quot;Beziehungen zwischen
            Views&quot;. Minimum 1x horizontal und 1x vertical Constraint.
            Bevorzugt rein visuelles Design in der IDE. Automatische Umwandlung
            in ein Constraint Layout ist möglich. Namespace Import </span
          ><code
            >xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</code
          >
          <span>Constraint-Varianten:</span>
        </p>
        <p>
          <img
            src="C:/git/hsr-documents/HS2022/MGE/res/android-constraints.png"
            referrerpolicy="no-referrer"
          />
        </p>
        <p>
          <strong><span>ScrollView</span></strong
          ><span>
            hat nur ein Kind-Element und ergänzt eine vertikale Scrollbar. </span
          ><strong><span>HorizontalScrollView</span></strong
          ><span> für nur horizontal oder Jetpack </span
          ><strong><span>NestedScrollView</span></strong
          ><span> für beides. width/height=match_parent.</span>
        </p>
        <h2 id="adapter-layouts-für-collections">
          <span>Adapter Layouts für Collections</span>
        </h2>
        <p>
          <img
            src="res/android-adapterlayout.png"
            referrerpolicy="no-referrer"
          />
        </p>
        <p>
          <span
            >Anzahl der Elemente ist nicht bekannt, aber die Struktur.
            Collection von Elementen (Daten) muss dargestellt werden via
            Adapter. </span
          ><strong><span>Hint</span></strong
          ><span
            >: Leere Listen vermeiden, Platzhalter verwenden durch
            ein/ausblenden von Elementen. </span
          ><strong><span>View Recycling</span></strong
          ><span>
            lässt die View-Elemente beim Scrollen wiederverwendet werden. Spart
            Arbeitsspeicher bei den anzuzeigenden Elementen und Rechenzeit beim
            enerieren von Views. </span
          ><strong><span>Android Array Adapter</span></strong
          ><span>
            implementiert dies selber schon. Bietet einfache Vorlagen für
            Listitems, die jeweils mit String Arrays verwendet werden können. </span
          ><strong><span>Custom ArrayAdapter:</span></strong
          ><span> Dient der Darstellung von komplexeren Datenklassen </span
          ><code>custom</code
          ><span>
            auf dieselben Listitem-Vorlagen. Eigene Adapterklasse leitet von </span
          ><code>ArrayAdapter&lt;custom&gt;</code
          ><span> ab und überschreibt speziell die Methode </span
          ><code
            >public View getView(int position, View view, ViewGroup
            parent);</code
          ><span
            >. Diese kümmert sich um das Erzeugen und anschliessende
            Wiederverwenden von der nötigen Anzahl Views. Weiter werden von der </span
          ><code>custom</code
          ><span
            >-Klasse dann definiert, welche Felder in welche Textfelder der View
            abgefüllt werden. Der entsprechende Eintrag wird mit </span
          ><code>Custom custom = getItem(pos);</code><span> abgeholt.</span>
          <strong><span>View Holder Pattern:</span></strong
          ><span> Optimieren von </span><code>findViewById</code
          ><span>
            pro dargestelltem Element beim scrollen, Ziel Speichern der
            Objektreferenzen pro erzeugte View. Klasse ViewHolder beinhaltet nur
            die nötigen Referenzen. Nach Erzeugen der View wird das Objekt mit </span
          ><code>view.setTag(viewHolder)</code
          ><span> an die View geknüpft. Abfrage mit </span
          ><code>(ViewHolder)view.getTag();</code><span>.</span>
        </p>
        <p>
          <span>Ergo </span><strong><span>RecyclerView</span></strong
          ><span>
            (Jetpack): ViewRecycling integriert, ViewHolder Verwendung wird
            erzwungen. Weniger Overhead im eigenen Code. Ableitung von Basis </span
          ><code>RecyclerView.Adapter&lt;ViewHolder&gt;</code
          ><span>
            benötigt zwingend eigenen ViewHolder Typen bei Implementierung.
            Weiter ist Überschreiben von 3 Methoden nötig. </span
          ><code>getItemCount()</code
          ><span>
            implementiert, wie viele Objekte in der Liste vorhanden sind. </span
          ><code>onCreateViewHolder(ViewGroup parent, int vt)</code
          ><span>
            erzeugt ViewHolder und generiert Layout, holt Controls ab. Kein
            Erzeugen der Views mehr. </span
          ><code>onBindVewHolder(ViewHolder holder, int position)</code
          ><span>
            füllt die Informationen aus den darzustellenden Listenelementen in
            den ViewHolder ab.</span
          >
        </p>
        <h2 id="controls-widgets"><span>Controls (Widgets)</span></h2>
        <p>
          <span>Namespace </span><code>android.widget</code
          ><span>. Sammelbegriff für visuelle Elemente. Basisklasse ist </span
          ><code>View</code><span> (nicht Widget). </span
          ><strong><span>TextView</span></strong
          ><span>: viele Format Attribute, integrierte Bilder (</span
          ><code>android:drawable[Start|End]</code
          ><span>), Listener möglich. </span
          ><code>beforeTextChanged, onTextChanged, afterTextChanged</code
          ><span>
            sind mögl. Callbacks zum Handling von Events. Besser einfach
            halten.. </span
          ><strong><span>ImageView</span></strong
          ><span>: Bilder. Mögli. Parameter: </span
          ><code>android:src, android:scaleType, android:tint</code
          ><span>. </span><strong><span>Button und ImageButton</span></strong
          ><span
            >: lösen Aktionen via Listener aus. Ableitung von
            TextView/ImgageView. StandardStyling je nach OS Version. </span
          ><strong><span>EditText</span></strong
          ><span>: Eingabefeld für Texte und Zahlen. Parameter </span
          ><code>android:inputType</code
          ><span>
            steuert Typ und angezeigte Tastatur, Korrekturoptionen, Darstellung,
            Mehrzeiligkeit. Kombination mit </span
          ><code>android:inputType=&quot;param1|param2&quot;</code
          ><span>. </span><code>inputField.setError()</code
          ><span>
            für Validierung, wird nach jeder Änderung zurückgesetzt. Fehlericon
            bei Bedarf anpassbar.</span
          >
          <strong><span>Weitere Controls</span></strong
          ><span
            >: Checkboxes, Picker, Floating Action Button, Radio Buttons,
            Switches, Seek Bar, Rating Bar, Spinner...
          </span>
        </p>
        <h3 id="controls-ohne-xml"><span>Controls ohne XML</span></h3>
        <p>
          <span
            >Layout von Android vorgegeben, übergeben werden nur einzelne
            Parameter. Bsp: Fehlermeldungen. </span
          ><strong><span>Toasts:</span></strong
          ><span>
            Einfache Rückmeldung im Popup Fenster, keine Benutzerinteraktion.
            Position und Layout anpassbar. </span
          ><strong><span>Snackbars:</span></strong
          ><span> Jetpack-Variante f. Toast, Benutzerinteraktion möglich. </span
          ><strong><span>Dialoge:</span></strong
          ><span>
            Antwort von Benutzer zwingend. Anpassen von Titel, Inhalt, Buttons,
            ... </span
          ><strong><span>Notifications:</span></strong
          ><span>
            Mitteilungen ausserhalb aktiver Nutzung. Anpassen von Dringlichkeit,
            Darstellung, Gruppierung. Darstellung mögl. in Statusbar,
            Notification Drawer, Heads-Up Notif., Lock Screen, App Icon Badge. </span
          ><code>NotificationCompat</code><span> aus Jetpack verwenden. </span
          ><strong><span>Menus</span></strong
          ><span
            >: Options Menu in Appbar (Hamburger Icon), Contextual Menu
            (Floating oder in einer ContextActionBar), Popup Menu. Resource in </span
          ><code>res/menu</code
          ><span>
            definiert Inhalt, Handlung der Auswahl innerhalb Activity. Jetpack
            verwenden.</span
          >
        </p>
        <h1 id="android-strukturierung-styling-material-design">
          <span>Android Strukturierung, Styling, Material Design</span>
        </h1>
        <h2 id="strukturierung-mit-fragments">
          <span>Strukturierung mit Fragments</span>
        </h2>
        <p>
          <span
            >Activities füllen zwingend immer einen kompletten Screen. Mehrere
            in sich geschlossene Elemente auf einen Screen können mit Fragments
            erreicht werden. Fragments haben einen eigenen </span
          ><strong><span>Lebenszyklus</span></strong
          ><span>
            und können auch mehrfach auf einen Screen eingebunden werden. </span
          ><em
            ><span
              >Fragments sind in der Android SDK &quot;deprecated&quot;, werden
              aktueller in AndroidX / Jetpack geführt. Verwendung: </span
            ><code
              >androidx.fragment.app.* / getSupportFragmentManager()</code
            ></em
          ><span>. </span> <strong><span>Lifecycle Callbacks </span></strong
          ><span> zusätzlich: </span><code>onAttach/onDetach</code
          ><span> (Fragment an Activity), </span
          ><code>onCreateView/onDestroyView</code
          ><span> (Fragment erstellen/zerstören), </span
          ><code>onActivityCreated</code
          ><span>. Parameter werden immer als </span><code>Bundle</code
          ><span> übergeben, nie als Konstruktor.</span>
          <strong><span>Vorteile</span></strong
          ><span
            >: Wiederverwendbarkeit, Wartbarkeit (kleinere Codeblöcke),
            Flexibilität durch mögliche Unterscheidung Smartphone vs. Tablet. </span
          ><strong><span>Verschachtelung</span></strong
          ><span> möglich, innerhalb Fragment kann </span
          ><code>getChildFragmentManager()</code><span> verwendet werden.</span>
        </p>
        <p>
          <img
            src="res/fragment_lifecycle.png"
            referrerpolicy="no-referrer"
            alt="fragment lifecycle"
          />
        </p>
        <p>
          <strong><span>Statische Einbindung</span></strong
          ><span
            >: Verhalten wie Activities. Erlaubt keine/kaum Interaktion zwischen
            Activity und Fragment.</span
          >
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang=""
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(MainActivity.java -(setContentView)-&gt; activity_main.xml -(xml-fragment)-&gt; outputFragment.java -(super(R.id....))-&gt; fragment_output.xml)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 52px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre>
        <p>
          <strong><span>Dynamische Einbindung</span></strong
          ><span>: Platzhalter </span><code>FragmentContainerView</code
          ><span> im XML. Activity verwendet Objekt </span
          ><code>FragmentManager</code><span>. </span
          ><em><span>Vorteile</span></em
          ><span
            >: Austauschbar zur Laufzeit, Parameterübergabe möglich, reagieren
            auf Ereignisse im Fragment möglich. Ebenso sind Animationen möglich
            beim Austauschen, definition in XML Files </span
          ><code>res/anim</code><span>. Add to Back Stack ist optional.</span>
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="xml"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">&lt;?xml</span> <span class="cm-meta">version="1.0" encoding="utf-8"?&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">androidx.constraintlayout.widget.ConstraintLayout</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">...</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-error">&lt;androidx.fragment.app.FragmentContainerView</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  ...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  tools:layout="@layouts/fragment_infos" /&gt;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/&gt;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 182px;"></div><div class="CodeMirror-gutters" style="display: none; height: 182px;"></div></div></div></pre>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="bash"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Fragment Manager <span class="cm-operator">=</span> getSupportFragmentMAnager() &nbsp;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Fragment Transaction <span class="cm-operator">=</span> mgr.beginTransaction()</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 52px;"></div><div class="CodeMirror-gutters" style="display: none; height: 52px;"></div></div></div></pre>
        <p><span>Kommunikation Activity &gt;&gt; Fragment </span></p>
        <ul>
          <li>
            <span
              >Informationen können via Bundle-Objekt übergeben werden.</span
            >
          </li>
          <li>
            <span>Erstellen und übergeben von Bundle mit </span
            ><code>OutputFragment.create()</code><span> (Java) bzw. </span
            ><code>newInstance()</code><span> (Kotlin).</span><br /><span
              >Deshalb weil der Konstruktor-Parameter nicht neu ausgeführt wird,
              z.B. bei Rotation des Gerätes.</span
            >
          </li>
          <li>
            <span
              >Public Methoden auf dem Fragment können von der Activity
              aufgerufen werden.</span
            >
          </li>
        </ul>
        <p>
          <span>Kommunikation Fragment &gt;&gt; Activity </span
          ><strong><span>nur</span></strong
          ><span>
            via Implementation von Callback-Interface (Dependency
            Inversion).</span
          >
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="java"
          style="break-inside: unset"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">interface</span> <span class="cm-def">OutputFragmentCallback</span> { <span class="cm-variable-3">void</span> <span class="cm-variable">onTextTapped</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">text</span>); }</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">MainActivity</span> <span class="cm-keyword">implements</span> <span class="cm-variable">OutputFragmentCallback</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Override</span> <span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">onTextTapped</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">text</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// was passiert on tap?</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">OutputFragment</span> <span class="cm-keyword">extends</span> <span class="cm-variable">Fragment</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-variable">OutputFragmentCallback</span> <span class="cm-variable">callback</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Override</span> <span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">onAttach</span> (<span class="cm-variable">Context</span> <span class="cm-variable">context</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">super</span>.<span class="cm-variable">onAttach</span>(<span class="cm-variable">context</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">callback</span> <span class="cm-operator">=</span> (<span class="cm-variable">OutputFragmentCallback</span>) <span class="cm-variable">context</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">ClassCastException</span> <span class="cm-variable">e</span>) { <span class="cm-comment">/* exception handling */</span> }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-meta">@Override</span> <span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-variable">onViewCreated</span>(<span class="cm-variable">View</span> <span class="cm-variable">view</span>, ... ) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">textOutput</span> <span class="cm-operator">=</span> <span class="cm-variable">view</span>.<span class="cm-variable">findViewById</span>(<span class="cm-variable">R</span>.<span class="cm-variable">id</span>.<span class="cm-variable">output_text</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">textOutput</span>.<span class="cm-variable">setOnClickListener</span>(<span class="cm-variable">v</span> <span class="cm-operator">=&gt;</span> { <span class="cm-variable">callback</span>.<span class="cm-variable">onTextTapped</span>(<span class="cm-string">"..."</span>); });</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">fragment</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 520px;"></div><div class="CodeMirror-gutters" style="display: none; height: 520px;"></div></div></div></pre>
        <h2 id="styling-mit-themes"><span>Styling mit Themes</span></h2>
        <p>
          <span
            >Probleme von Attributen direkt auf XML Elementen:
            Code-Duplizierung, Inkonsistenzen und Unübersichtlichkeit. </span
          ><strong><span>Styles</span></strong
          ><span> sind Value-Resourcen in </span
          ><code>res/values/styles.xml</code
          ><span
            >, die Formatierungen wiederverwendbar machen. Qualifiers auch
            möglich. Werden vom Build System ausgewertet.
          </span>
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="xml"
          style="break-inside: unset"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">style</span> <span class="cm-attribute">name</span>=<span class="cm-string">"HeaderText"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:textSize"</span><span class="cm-tag cm-bracket">&gt;</span>24sp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:background"</span><span class="cm-tag cm-bracket">&gt;</span>#ff9999<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:padding"</span><span class="cm-tag cm-bracket">&gt;</span>8dp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:layout_margin"</span><span class="cm-tag cm-bracket">&gt;</span>8dp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:gravity"</span><span class="cm-tag cm-bracket">&gt;</span>center<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">style</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">style</span> <span class="cm-attribute">name</span>=<span class="cm-string">"HeaderText.Big"</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-comment">&lt;!-- Vererbung möglich, beinhaltet auch alle Werte von HeaderText --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:textSize"</span><span class="cm-tag cm-bracket">&gt;</span>40sp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-comment">&lt;!-- Variante 2: parent-Attribut setzen --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">style</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- Anwendung in Layout --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">TextView</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">android:layout_width</span>=<span class="cm-string">"match_parent"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">android:layout_height</span>=<span class="cm-string">"wrap_content"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">android:text</span>=<span class="cm-string">"Element 1"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">style</span>=<span class="cm-string">"@style/HeaderText"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">TextView</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">android:layout_width</span>=<span class="cm-string">"match_parent"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">android:layout_height</span>=<span class="cm-string">"wrap_content"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">android:text</span>=<span class="cm-string">"Element 2"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">style</span>=<span class="cm-string">"@style/HeaderText.Big"</span><span class="cm-tag cm-bracket">/&gt;</span> <span class="cm-comment">&lt;!-- Kein Namespace! --&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 546px;"></div><div class="CodeMirror-gutters" style="display: none; height: 546px;"></div></div></div></pre>
        <p>
          <strong><span>Themes</span></strong
          ><span
            >: Standard-Style kann für ganze App oder Activity festgelegt
            werden. Nur noch Abweichungen müssen als Style definiert werden.
            Theme in </span
          ><code>res/values/styles.xml</code><span>, </span><code>parent</code
          ><span
            >-Attribut definiert Abhängigkeit von allgemeinen Themes.
          </span>
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="xml"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">resources</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">style</span> <span class="cm-attribute">name</span>=<span class="cm-string">"AppTheme"</span> <span class="cm-attribute">parent</span>=<span class="cm-string">"…"</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-comment">&lt;!-- Parent definiert Grund-Theme --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:textViewStyle"</span><span class="cm-tag cm-bracket">&gt;</span>@style/MyText<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span> <span class="cm-comment">&lt;!-- Macht MyText Standard f. TextView --&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">style</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">style</span> <span class="cm-attribute">name</span>=<span class="cm-string">"MyText"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:textSize"</span><span class="cm-tag cm-bracket">&gt;</span>24sp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:background"</span><span class="cm-tag cm-bracket">&gt;</span>#ff9999<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:padding"</span><span class="cm-tag cm-bracket">&gt;</span>8dp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:layout_margin"</span><span class="cm-tag cm-bracket">&gt;</span>8dp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">item</span> <span class="cm-attribute">name</span>=<span class="cm-string">"android:gravity"</span><span class="cm-tag cm-bracket">&gt;</span>center<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">item</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">style</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">resources</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 338px;"></div><div class="CodeMirror-gutters" style="display: none; height: 338px;"></div></div></div></pre>
        <p>
          <strong><span>Einbindung</span></strong
          ><span>
            vom Theme im Manifest in Application/Activity XML Node, oder via </span
          ><code>setTheme()</code><span> in </span><code>onCreate()</code
          ><span> Methode.</span>
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="xml"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">application</span> <span class="cm-attribute">…</span> <span class="cm-attribute">android:theme</span>=<span class="cm-string">"@style/AppTheme"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">activity</span> <span class="cm-attribute">…</span> <span class="cm-attribute">android:theme</span>=<span class="cm-string">"@style/AnotherAppTheme"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">application</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 79px;"></div><div class="CodeMirror-gutters" style="display: none; height: 79px;"></div></div></div></pre>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="java"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Override</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">protected</span> <span class="cm-variable-3">void</span> <span class="cm-def">onCreate</span>(<span class="cm-variable">Bundle</span> <span class="cm-variable">savedInstanceState</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">setTheme</span>(<span class="cm-variable">R</span>.<span class="cm-variable">style</span>.<span class="cm-variable">AnotherAppTheme</span>); <span class="cm-comment">// ZWINGEND VOR setContentView</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">setContentView</span>(<span class="cm-variable">R</span>.<span class="cm-variable">layout</span>.<span class="cm-variable">activity_styling</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 130px;"></div><div class="CodeMirror-gutters" style="display: none; height: 130px;"></div></div></div></pre>
        <p>
          <span>Hierarchie der verschiedenen Definitionen: </span
          ><strong><span>Attribute via Code</span></strong
          ><span> vor </span><strong><span>Attribute via XML</span></strong
          ><span> vor </span><strong><span>Style via XML</span></strong
          ><span> vor </span><strong><span>Standard-Styles</span></strong
          ><span> vor </span><strong><span>Theme</span></strong
          ><span> vor </span
          ><strong><span>TextAppearance (Material Design)</span></strong>
        </p>
        <h2 id="material-design"><span>Material Design</span></h2>
        <p>
          <span>Einbinden: Android SDK mit </span><code>Theme.Material.*</code
          ><span>, AndroidX mit </span><code>Theme.AppCompat.*</code
          ><span>, beste Unterstützung mit </span
          ><strong><span>Material Components Library</span></strong
          ><span>: </span><code>Theme.MaterialComponents.*</code>
        </p>
        <p>
          <span
            >Design Language von Google. Hilfestellung für Designprozess.
            Beschreibt, wie einzelne Teile der Applikation aussehen und sich
            verhalten sollten. Teils Regeln, teils Empfehlungen und Beispiele. </span
          ><strong><span>Ziel</span></strong
          ><span
            >: konsistentes und benutzbares Look-and-Feel, möglichst systemweit.
            Beispiel von </span
          ><em><span>Human-Interface Guidelines</span></em
          ><span>.</span>
        </p>
        <p>
          <img
            src="res/materialdesign-mindmap.png"
            referrerpolicy="no-referrer"
            alt="material design"
          />
        </p>
        <p>
          <span>Ideen: </span
          ><em
            ><strong><span>Material is the Metaphor</span></strong></em
          ><span
            >: Material ist immer 1dp dick, wie Papier. Material wirft Schatten.
            Material hat eine unendliche Auflösung -&gt; SVG-Grafiken. Inhalt
            hat keine Dicke und ist Teil des Materials. </span
          ><strong><span>*Bold, graphic, intentional: *</span></strong
          ><span>
            basiert auf prinzipien von Print-Medien bezgl. Hierarchie, Raster,
            Schriften, Farben, ... </span
          ><em
            ><strong><span>Motion provides Meaning</span></strong></em
          ><span
            >: Material kann sich verändern. Material kann sich bewegen.
            Bewegung bedeutet Aktion -&gt; Zurückhaltend verwenden.</span
          >
        </p>
        <p>
          <strong><span>Farben:</span></strong
          ><span>
            Primärfarbe in verschiedenen Abstufungen, optionale
            Sekundär-/Akzentfarbe. Tools existieren zur Farbwahl. Anpassen in
            Themes, </span
          ><code>colorPrimary, colorPrimaryDark, colorAccent</code
          ><span> etc., gilt für viele Controls. </span
          ><strong><span>Icons:</span></strong
          ><span> Library von Material Design zur freien Verwendung </span
          ><strong><span>Layouts:</span></strong
          ><span> 8dp Raster ist Basis für Ausrichtung </span
          ><strong><span>Components:</span></strong
          ><span>
            Material Design umfasst zusätzliche Software-Libraries mit GUI
            Elementen (Controls) </span
          ><strong><span>Text:</span></strong
          ><span> Vordefinierte Styles mit </span><code>style</code
          ><span> oder </span><code>android:textApperance</code
          ><span> Attribut auf </span
          ><code>@style/TextAppearance.MaterialComponents.Headline3</code
          ><span>.</span>
        </p>
        <p>
          <img src="res/android-material.png" referrerpolicy="no-referrer" />
        </p>
        <p>
          <span
            >Einbindung prüfen, wenn die IDE vorschlägt... Button z.b aus
            AndroidSDK, AndoridX, Material Design möglich.</span
          >
        </p>
        <p>
          <strong><span>Material You</span></strong
          ><span
            >: Android 12+ als weiterentwicklung von Material Design, um wieder
            mehr Individualisierung in die Apps zu bringen. Mehr Farben, mehr
            Animationen, mehr </span
          ><em><span>abgerundete Ecken</span></em
          ><span>.</span>
        </p>
        <h1 id="android-berechtigungen-persistenz-hardwarezugriff">
          <span>Android Berechtigungen, Persistenz, Hardwarezugriff</span>
        </h1>
        <h2 id="berechtigungen"><span>Berechtigungen</span></h2>
        <ul>
          <li>
            <span>Normale (</span><em><span>install-time</span></em
            ><span
              >) Berechtigungen: im Android Manifest definiert. Wird während der
              Installation beim System angefragt und automatisch erteilt.</span
            >
          </li>
          <li>
            <span>Gefährliche (</span><em><span>run-time</span></em
            ><span
              >) Berechtigungen: Werden zur Laufzeit beim User angefragt (Pop-Up
              Meldung).</span
            >
          </li>
        </ul>
        <p>
          <strong><span>Selektives Ablehnen</span></strong
          ><span>
            von Berechtigungen erst seit API 23 (Android 6.0) möglich. Vorher
            wurden sämtliche Berechtigungen beim Installieren der App erteilt
            oder die App nicht installiert. </span
          ><strong><span>Einmaliges Erlauben</span></strong
          ><span> seit API 30 (Android 11.0), wie auch </span
          ><strong><span>automatisches Zurücksetzen</span></strong
          ><span> vom System.</span>
          <strong><span>Nachträchliches Entziehen</span></strong
          ><span>
            von Berechtigungen ist jederzeit möglich, vom User oder vom System.
            Check im Code also vor jeder Verwendung einer API nötig, sonst
            fliegt </span
          ><code>SecurityException</code><span>. App wird beim </span
          ><strong><span>Anpassen von Berechtigungen</span></strong
          ><span> sofort beendet.</span>
          <strong><span>Best Practices:</span></strong
          ><span>
            Nur anfordern, was wirklich benötigt wird. Im Kontext der Verwendung
            anfordern. Transparente Erklärungen. Abbruch ermöglichen.
            Verweigerung berücksichtigen und Alternativen anbieten.</span
          >
        </p>
        <h3 id="manifest-definition"><span>Manifest Definition</span></h3>
        <p>
          <code>uses-permission</code
          ><span>
            im Manifest resultiert auch in einem Filter für den Google Play
            Store. Beispielsweise: App wird nur für Geräte mit Kamera angeboten.
            Um das auszuschalten das </span
          ><code>uses-feature</code><span> verwenden, mit </span
          ><code>android:required=false</code><span>.</span>
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="xml"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">uses-permission</span> <span class="cm-attribute">android:name</span>=<span class="cm-string">"android.permission.CAMERA"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">uses-permission</span> <span class="cm-attribute">android:name</span>=<span class="cm-string">"android.permission.CAMERA"</span> <span class="cm-attribute">android:maxSdkVersion</span>=<span class="cm-string">"28"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">&lt;!-- Obergrenze API: neuer wird die Berechtigung nicht mehr benötigt? --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">uses-feature</span> <span class="cm-attribute">android:name</span>=<span class="cm-string">"android.hardware.location"</span> <span class="cm-attribute">android:required</span>=<span class="cm-string">"false"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 104px;"></div><div class="CodeMirror-gutters" style="display: none; height: 104px;"></div></div></div></pre>
        <h3 id="im-code"><span>Im Code</span></h3>
        <p>
          <span>Abfrage </span
          ><code
            >if (shouldShowRequestPermissionRationale(permission)) { .. mehr
            info anzeigen .. }</code
          ><span>
            wird beim ersten Anfordern der Berechtigungen ausgeführt. Liefert
            auch </span
          ><code>true</code><span> nach erstmaliger Verweigerung. </span
          ><code>onRequestPermissionResult(...)</code
          ><span>
            wird aufgerufen, sobald der User eine Option gewählt hat. </span
          ><code>requestPermissions(..., CALLBACK_CODE)</code
          ><span>
            kann definieren, woher im Code die Anfrage kommt. Lehnt der User die
            Anfrage wiederholt ab, gilt es automatisch als &quot;Nicht mehr
            Fragen&quot;. Dem User wird keine Anfrage mehr angezeigt.</span
          >
        </p>
        <h2 id="persistenz"><span>Persistenz</span></h2>
        <h3 id="varianten--mechanismen">
          <span>Varianten / Mechanismen</span>
        </h3>
        <p>
          <span>App-Intern: </span>
          <strong><span>App-Spezifische Dateien:</span></strong
          ><span>
            Beliebiges Format. Werden beim Deinstallieren der App gelöscht.
            Geschützt vor fremdem Zugriff. Bsp: Domänenobjekte als JSON. Zugriff
            via File Klasse und Methoden auf Context: </span
          ><code
            >getFilesDir, getCacheDir, getExternalFilesDir,
            getExternalCacheDir</code
          >
          <strong><span>Preferences:</span></strong
          ><span> Key-Value Paare, Bsp: Benutzereinstellungen. </span>
          <strong><span>Datenbanken</span></strong
          ><span
            >: strukturierte Daten, Bsp: umfangreiche Domänenobjekte. Varianten
            SQLite direkt oder Abstraktion via OR Mapper RoomDb, basierend auf
            Java Annotations.</span
          >
          <span>App-übergreifend: </span>
          <strong><span>Medien:</span></strong
          ><span>
            Bilder, Dokumente, Musik und Videos. Ohne UI-Dialog, benötigt ggf.
            Berechtigungen. Bleiben bei Deinstallation erhalten. Ab API 29 nur
            noch für das Lesen fremder Daten Berechtigungen nötig, vorher auch
            für eigene. Schreiben in fremde Ordner nicht möglich. Zugriff via </span
          ><code>MediaStore</code><span> Content Provider.</span>
          <strong><span>Dokumente:</span></strong
          ><span>
            Beliebige Dateiformate. Mit UI-Dialog (delegiert an andere App - wo
            speichern?), keine Berechtigungen benötigt. Bleiben bei
            Deinstallation erhalten. Zugriff via Storage Access Framework,
            Kombination aus Intents und CPs.</span
          >
        </p>
        <p>
          <strong><span>Content Providers</span></strong
          ><span>
            (Server) und Resolvers (Client): Datenquelle für andere Apps. SQL
            ähnliche, standardisierte Schnittstelle. Diverse Provider von
            Android implementiert: Kalender, Kontakte, Medien, Dokumente,
            Wörterbuch.. Methoden für CRUD Operationen, Cursor zur Iteration
            über Ergebnisse. Berechtigung nötig für Zugriff.</span
          >
        </p>
        <h3 id="verschiedene-speicherorte">
          <span>Verschiedene Speicherorte</span>
        </h3>
        <p>
          <span
            >Intern (flash): meist app-spezifische Daten, geschützter
            Speicherbereich pro App. </span
          ><code>/data/data/{App-id}</code>
          <span
            >Extern (sdcard oder emuliert auf flash): grössere Datein, mit
            anderen Apps geteilt. </span
          ><code>/sdcard/Android/data/{App-id}</code>
          <span>Öffentliche Daten: </span><code>/sdcard/Download</code
          ><span>, </span><code>/sdcard/Movies</code><span>, </span
          ><code>/sdcard/Music</code><span>, </span
          ><code>/sdcard/Pictures</code>
        </p>
        <p>
          <img
            src="res/speicher-uebersicht.png"
            referrerpolicy="no-referrer"
            alt="Speicherarten"
          />
        </p>
        <p>
          <span
            >Debugging-Tools: Device File Explorer, Database Inspector. Export
            aller Daten einer App auch möglich, via cli-Befehle.
          </span>
          <code>adb backup -noapk &lt;APPID&gt;</code><span> &amp; </span
          ><code>java -jar abe.jar unpack backup.ab backup.tar</code>
        </p>
        <h2 id="hardwarezugriff"><span>Hardwarezugriff</span></h2>
        <p>
          <span
            >Sensor Framework soll für alle möglichen Sensoren die gleiche
            Bedienung bieten. </span
          ><code>Sensor Manager</code
          ><span> ist Einstiegspunkt zur Verwendung von Sensordaten. </span
          ><code>Sensor</code><span> repräsentiert Hardwaresensor. </span
          ><code>SensorEvent</code><span> enthält aktuelle Werte, </span
          ><code>SensorEventListener</code
          ><span> verwenden für Callbacks.</span>
        </p>
        <p>
          <strong><span>Verzögerung</span></strong
          ><span>
            beeinflusst den Energieverbrauch: Festlegen mit verschiedenen Werten </span
          ><code>SensorManager.SENSOR_DELAY_XX</code
          ><span> Werte aufsteigend sind Fastest, Game, UI, Normal. </span
          ><strong><span>Genauigkeit</span></strong
          ><span> löst Callback aus bei Änderungen: </span
          ><code>SENSOR_STATUS_ACCURACY_XX</code
          ><span> : high, medium, low, unreliable.</span>
        </p>
        <pre
          class="md-fences md-end-block ty-contain-cm modeLoaded"
          spellcheck="false"
          lang="java"
          style="break-inside: unset"
        ><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 11px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Bei Sensor auf Änderungen registrieren</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">service</span> <span class="cm-operator">=</span> <span class="cm-variable">Context</span>.<span class="cm-variable">SENSOR_SERVICE</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">type</span> <span class="cm-operator">=</span> <span class="cm-variable">Sensor</span>.<span class="cm-variable">TYPE_LIGHT</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">delay</span> <span class="cm-operator">=</span> <span class="cm-variable">SensorManager</span>.<span class="cm-variable">SENSOR_DELAY_NORMAL</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">SensorManager</span> <span class="cm-variable">mgr</span> <span class="cm-operator">=</span> (<span class="cm-variable">SensorManager</span>)<span class="cm-variable">getSystemService</span>(<span class="cm-variable">service</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Sensor</span> <span class="cm-variable">sensor</span> <span class="cm-operator">=</span> <span class="cm-variable">mgr</span>.<span class="cm-variable">getDefaultSensor</span>(<span class="cm-variable">type</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">mgr</span>.<span class="cm-variable">registerListener</span>(<span class="cm-keyword">this</span>, <span class="cm-variable">sensor</span>, <span class="cm-variable">delay</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// Implementierung von SensorEventListener</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-def">onSensorChanged</span>(<span class="cm-variable">SensorEvent</span> <span class="cm-variable">sensorEvent</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">float</span> <span class="cm-variable">lux</span> <span class="cm-operator">=</span> <span class="cm-variable">sensorEvent</span>.<span class="cm-variable">values</span>[<span class="cm-number">0</span>]; <span class="cm-comment">// Inhalt abhängig von Sensortyp</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">Log</span>.<span class="cm-variable">d</span>(<span class="cm-atom">null</span>, <span class="cm-variable">lux</span> <span class="cm-operator">+</span> <span class="cm-string">" lux"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">@Override</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span class="cm-def">onAccuracyChanged</span>(<span class="cm-variable">Sensor</span> <span class="cm-variable">sensor</span>, <span class="cm-variable-3">int</span> <span class="cm-variable">i</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 416px;"></div><div class="CodeMirror-gutters" style="display: none; height: 416px;"></div></div></div></pre>
        <p>
          <span
            >Sensortypen, möglich sind Hardware vs. Software (basiert auf
            Berechnung aus anderen Hardware-Sensoren): </span
          ><em
            ><span
              >Accelerometer, Ambient_Temperature, Gravity, Gyroscope, Light,
              Linear_Acceleration, Magnetic_Field, Orientation, Pressure,
              Proximity, Relative_Humidity, Rotation_Vector, Temperature</span
            ></em
          >
        </p>
        <p>
          <strong><span>Vibration</span></strong
          ><span>: Für haptisches Feedback. Klasse </span><code>Vibrator</code
          ><span
            >. Ab API 26 sind Effekte möglich, API 29 bringt vordefinierte
            Effekte. Keine AndroidX Alternative vorhanden, API Checks zwingend!
            Berechtigung </span
          ><code>VIBRATE</code><span> nötig.</span>
        </p>
        <p>
          <strong><span>Connectivity</span></strong
          ><span
            >: Fokus Mobilfunk / WiFi. REST-Calls mit verschiedenen Varianten
            möglich, Berechtigung </span
          ><code>INTERNET</code><span> zwingend. </span
          ><strong><span>V1</span></strong
          ><span> mit </span><code>HttpsURLConnection</code
          ><span> ist Teil der Android SDK, API 1. </span
          ><strong><span>V2</span></strong
          ><span> mit </span><code>OkHttp</code
          ><span>
            ist effiziente Alternative, ab API 21. 3rd Party Library. </span
          ><strong><span>V3</span></strong
          ><span> </span><code>Retrofit</code
          ><span>
            bietet erweiterte Funktionalität auf OkHttp basierend, wie Konverter
            zur Serialisierung und die Definition von Endpunkten und
            Datenobjekten. 3rd Party Library. </span
          ><code>Call.execute()</code><span> vs. </span
          ><code>Call.enqueue()</code
          ><span> für Background-Kommunikation.</span>
          <span
            >Netzwerkkommunikation ist auf Main-Thread nicht erlaubt. Verbindung
            (WLAN/Mobile) muss nicht selber definiert werden, Android wählt aus
            (Geschwindigkeit, Signalqualität, Vermeiden von Roaming). Kann
            jedoch abgefragt werden über Klasse </span
          ><code>ConnectivityManager</code><span>. Berechtigun </span
          ><code>ACCESS_NETWORK_STATE</code><span>. </span
          ><strong><span>Statusänderungen</span></strong
          ><span> werde via Broadcasts übermittelt.</span>
        </p>
        <p>
          <strong><span>Positionsbestimmung:</span></strong
          ><span>
            Aggregation von verschiedenen Datenquellen: GPS, verbundene
            Mobilfunkzelle, verbundenes Wifi. Ohne Google-Dienste: </span
          ><code>LocationManager</code><span>, mit Google-Dienste: </span
          ><code>Fused Location Provider</code><span>. Berechtigungen </span
          ><code
            >ACCESS_COARSE_LOCATION, ACCESS_FINE_LOCATION,
            ACCESS_BACKGROUND_LOCATION</code
          ><span
            >. API: Agggregierung verschiedener Datenquellen und abonnieren von
            Positionsupdates.</span
          >
        </p>
        <p>
          <strong><span>Kamera:</span></strong
          ><span>
            App via Intent (empfohlen, weniger Komplexität), Camera-API,
            Camera2-API, CameraX-API (mehr Möglichkeiten und Kontrolle)</span
          >
        </p>
      </div>
    </div>
  </body>
</html>
